<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- This is an SEO Change-->
    <title>Personal Budget — Free Budgeting App to Track Spending</title>

    <!-- This is an SEO Change-->
    <meta name="description" content="Personal Budget is a free budgeting app that helps you track spending, set alerts, and visualize results with clear charts.">

    <!-- This is an SEO Change-->
    <link rel="canonical" href="https://example.com/">

    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="main.css">

    <!-- This is an A11y Change-->
    <style>
      .skip { position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
      .skip:focus { position:static; width:auto; height:auto; padding:.5rem; background:#eee; }
      .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); border:0; }
    </style>

    <!-- This is an SEO Change-->
    <meta property="og:title" content="Personal Budget — Free Budgeting App">
    <meta property="og:description" content="Track your spending, set alerts, and see your results.">
</head>
<body>

<!-- This is an A11y Change-->
<a href="#main" class="skip">Skip to main content</a>

<!-- This is a Semantic HTML Change-->
<header class="site-header">

  <!-- This is an A11y Change-->
  <nav aria-label="Primary navigation">
      <ul>
          <!-- This is an A11y Change-->
          <li><a href="/">Home</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/login.html">Login</a></li>
          <!-- This is an A11y Change-->
          <li><a href="https://google.com" target="_blank" rel="noopener noreferrer" aria-label="Open Google in a new tab">Google Search</a></li>
      </ul>
  </nav>

  <!-- This is a Semantic HTML Change-->
  <div class="hero" role="banner">
      <!-- This is an A11y Change-->
      <h1>Personal Budget</h1>
      <p class="tagline">A personal-budget management app</p>
  </div>
</header>

<!-- This is a Semantic HTML Change-->
<main class="center" id="main">

    <!-- This is a Semantic HTML Change-->
    <section class="page-area">

        <!-- This is a Semantic HTML Change-->
        <article>
            <h2>Stay on track</h2>
            <p>
                Do you know where you are spending your money? If you really stop to track it,
                you might be surprised! Proper budget management depends on real data — and this
                app will help you with that!
            </p>
        </article>

        <!-- This is a Semantic HTML Change-->
        <article>
            <h2>Alerts</h2>
            <p>
                What if your clothing budget ends? You’ll get an alert. The goal is to never go over budget.
            </p>
        </article>

        <!-- This is a Semantic HTML Change-->
        <article>
            <h2>Results</h2>
            <p>
                People who stick to a financial plan, budgeting every expense, get out of debt faster.
                They also tend to live happier lives because they spend without guilt or fear —
                everything is accounted for.
            </p>
        </article>

        <!-- This is a Semantic HTML Change-->
        <article>
            <h2>Free</h2>
            <p>
                <canvas id="myChart" width="400" height="400"></canvas>
            </p>
        </article>

        <!-- This is an A11y Change-->
        <figure>
          <!-- This is an A11y Change-->
          <p id="chart-desc" class="sr-only">
            Pie chart showing the distribution of your budget categories.
          </p>

          <!-- This is an A11y Change-->
          <canvas id="myChart" width="400" height="400" aria-describedby="chart-desc"></canvas>

          <!-- This is an A11y Change-->
          <figcaption>Budget distribution by category</figcaption>
        </figure>

    </section>

</main>

<!-- This is a Semantic HTML Change-->
<footer class="bottom" role="contentinfo">
    <div class="center">
        <small>All rights reserved &copy; Fabio Nolasco</small>
    </div>
</footer>

<!-- This is an SEO/A11y Change-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.20.0/axios.min.js" integrity="sha512-quHCp3WbBNkwLfYUMd+KwBAgpVukJu5MncuQaWXgCrfgcxCJAq/fo+oqrRKOj+UKEmyMCG3tb8RB63W+EmrOBg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js" integrity="sha512-s+xg36jbIujB2S2VKfpGmlC3T5V2TF3lY48DX7u2r9XzGzgPsa6wTpOQA7J9iffvdeBN0q9tKzRxVxw1JviZPg==" crossorigin="anonymous"></script>

<script>
    var dataSource = {
        datasets: [
            {
                data: [],
                backgroundColor: [
                    '#ffcd56',
                    '#ff6384',
                    '#36a2eb',
                    '#fd6b19',
                ]
            }
        ],
        labels: []
    };

    function createChart() {
        var ctx = document.getElementById('myChart').getContext('2d');
        var myPieChart = new Chart(ctx, {
            type: 'pie',
            data: dataSource
        });
    }

    function getBudget() {
        axios.get('/budget')
        .then(function (res) {
            console.log(res.dataSource);
            for (var i = 0; i < res.data.myBudget.length; i++) {
                dataSource.datasets[0].data[i] = res.data.myBudget[i].budget;
                dataSource.labels[i] = res.data.myBudget[i].title;
            }
            createChart();
        });
    }
    getBudget();
    
</script>

</body>
</html>
